<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>API Test</title>
</head>
<body style="font-family:sans-serif;max-width:600px;margin:2rem auto">
  <h1>Test API Connection</h1>
  <p>Click below to send a test order to <code>https://api.salcedo.app/submit</code>.</p>
  <button id="test">Send Test Order</button>
  <pre id="output" style="background:#f5f5f5;padding:1rem;border-radius:8px;margin-top:1rem;white-space:pre-wrap;"></pre>

<script>
const API_URL = "https://api.salcedo.app/submit";
const API_KEY = "4Tg7M1Qp9eXc!5zLw2nY@0Rb";

document.getElementById("test").addEventListener("click", async ()=>{
  const payload = {
    coordinator: "Test User",
    phone: "555-5555",
    state: "California",
    address: "123 Main St",
    S: 1, M: 0, L: 0, XL: 0, XXL: 0, XXXL: 0,
    total: 1,
    price_per_shirt: 30,
    total_cost: 30
  };
  const out = document.getElementById("output");
  out.textContent = "Sending...";
  try {
    const res = await fetch(API_URL, {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
        "X-API-Key": API_KEY
      },
      body: JSON.stringify(payload),
      mode: "cors"
    });
    const txt = await res.text();
    out.textContent = `Status: ${res.status}\n\n${txt}`;
  } catch(err){
    out.textContent = `Error: ${err.message}`;
  }
});
</script>
</body>
</html>
